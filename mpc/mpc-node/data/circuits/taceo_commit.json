{"noir_version":"1.0.0-beta.3+ceaa1986628197bd1170147f6a07f0f98d21030a","hash":17621435731837456991,"abi":{"parameters":[{"name":"data","type":{"kind":"field"},"visibility":"private"},{"name":"rand","type":{"kind":"field"},"visibility":"private"}],"return_type":{"abi_type":{"kind":"field"},"visibility":"public"},"error_types":{}},"bytecode":"H4sIAAAAAAAA/7WSQQ7CIBBFgVJ17UlmYCjDzqtIpPc/gREDTSYSN7a+ZPI/C8jng1aNSx2rRnTXW1cPC1GJrqDHO7iUOQCFvDAyBg4Px94XJo4ppwgJyRdcQ/IrNCZxFuzknzntjzm5CfYlEpJ7Z7uKfresz+618JPwtvtt31znVOf85b3MRwewDzQH9jkflwu0uLtR4x+Q3qiRFwMDqOb0AgAA","debug_symbols":"tZBLCsMgFEX38sYOakra6lZKCX6DICp+CkXce01IaKDjDM+9953BqyAVL/NknPYJ6LOC9YJl412nCpc1SoG5hVJmMQN9jAiUk0DxMDYE2lgF9IYb+lsSfN+mZCS/6bW9EODz1MNZ6g48GmvNPB3f1OM3i4ZxqzbUxYlDmz9hb/b7EL1QskS1mNau678=","file_map":{"61":{"source":"use monty_hall::commit::Commit;\n\nfn main(data: Field, rand: Field) -> pub Field{\n    Commit::commit_field_array([data], rand)\n}\n","path":"/home/fnieddu/repos/monty-hall-aztec/noir_logic/taceo_commit/src/main.nr"},"63":{"source":"// Follows the SAFE API [https://eprint.iacr.org/2023/522.pdf](https://eprint.iacr.org/2023/522.pdf)\npub struct Commit {}\n\nimpl Commit {\n    fn absorb(data: Field, state: &mut [Field; 4], position: &mut Field) {\n        if *position == 3 {\n            *state = std::hash::poseidon2_permutation(*state, 4);\n            *position = 0;\n        }\n        state[*position] += data;\n        *position += 1;\n    }\n\n    pub fn commit_field_array<let N: u32>(data: [Field; N], rand: Field) -> Field {\n        let d = 0x4142;\n        let absorb = 0x80000000 + N as Field;\n        let squeeze = 1;\n        let t = d + squeeze * 65536 + absorb * 281474976710656;\n        let mut state = [0, 0, 0, t];\n        let mut position = 0;\n\n        // Absorb\n        for i in 0..N {\n            Self::absorb(data[i], &mut state, &mut position);\n        }\n        Self::absorb(rand, &mut state, &mut position);\n\n        // Squeeze\n        std::hash::poseidon2_permutation(state, 4)[0]\n    }\n}\n","path":"/home/fnieddu/repos/monty-hall-aztec/noir_logic/monty_hall/src/commit.nr"}},"names":["main"],"brillig_names":[]}